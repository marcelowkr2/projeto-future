(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[46],{1936:(e,r,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/compliance",function(){return t(9339)}])},9339:(e,r,t)=>{"use strict";t.r(r),t.d(r,{default:()=>i});var a=t(7876),o=t(4232),n=t(9099),d=t(4559);let s=e=>{let{data:r}=e;return(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{children:"Gr\xe1fico de Conformidade"}),r&&r.map((e,r)=>(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{children:["Controle ID: ",e.control_id]}),(0,a.jsxs)("p",{children:["Average Maturity: ",e.average_maturity]})]},r))]})},i=()=>{let e=(0,n.useRouter)(),[r,t]=(0,o.useState)(!1),[i,c]=(0,o.useState)(null);return((0,o.useEffect)(()=>{(async()=>{try{let e=await d.A.get("/get-maturity-results/");c(e.data)}catch(e){console.error("Erro ao buscar dados de conformidade:",e)}})()},[]),(0,o.useEffect)(()=>{let r=localStorage.getItem("auth_token");if(!r){console.warn("Token ausente. Redirecionando para login..."),e.push("/login");return}(async()=>{try{await d.A.get("http://localhost:8000/auth/validate-token/",{headers:{Authorization:"Bearer ".concat(r)}}),t(!0)}catch(r){console.error("Token inv\xe1lido ou expirado:",r),localStorage.removeItem("auth_token"),e.push("/login")}})()},[e]),r)?(0,a.jsx)("div",{children:i?(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{children:"Status de Conformidade"}),(0,a.jsx)(s,{data:i})]}):(0,a.jsx)("p",{children:"Carregando dados de conformidade..."})}):(0,a.jsx)("p",{children:"Carregando..."})}}},e=>{var r=r=>e(e.s=r);e.O(0,[636,593,792],()=>r(1936)),_N_E=e.O()}]);