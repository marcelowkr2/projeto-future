(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[295],{630:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>h});var a=o(7876),s=o(4232),t=o(9099),n=o(4559),l=o(712),i=o(1494),u=o(9794),c=o(9844),d=o(1170);let h=()=>{let[e,r]=(0,s.useState)(""),[o,h]=(0,s.useState)(""),[p,g]=(0,s.useState)(""),m=(0,t.useRouter)(),f=async r=>{r.preventDefault();try{console.log("Fazendo requisi\xe7\xe3o para /api/token/ com:",{username:e,password:o});let r=await n.A.post("/api/token/",{username:e,password:o});console.log("Resposta da API:",r),localStorage.setItem("token",r.data.access),m.push("/dashboard")}catch(e){console.error("Erro ao fazer login:",e),e.response?(console.error("Resposta do servidor:",e.response.data),g(e.response.data.detail||"Usu\xe1rio ou senha incorretos.")):e.request?(console.error("Sem resposta do servidor:",e.request),g("Sem resposta do servidor. Verifique sua conex\xe3o.")):(console.error("Erro ao configurar a requisi\xe7\xe3o:",e.message),g("Erro ao tentar fazer login."))}};return(0,a.jsx)(l.A,{maxWidth:"sm",children:(0,a.jsxs)(i.A,{mt:5,children:[(0,a.jsx)(u.A,{variant:"h4",align:"center",gutterBottom:!0,children:"Login"}),p&&(0,a.jsx)(u.A,{variant:"body1",color:"error",align:"center",children:p}),(0,a.jsxs)("form",{onSubmit:f,children:[(0,a.jsx)(c.A,{fullWidth:!0,label:"Usu\xe1rio",value:e,onChange:e=>r(e.target.value),margin:"normal"}),(0,a.jsx)(c.A,{fullWidth:!0,label:"Senha",type:"password",value:o,onChange:e=>h(e.target.value),margin:"normal"}),(0,a.jsx)(d.A,{type:"submit",variant:"contained",color:"primary",fullWidth:!0,children:"Entrar"})]})]})})}},5794:(e,r,o)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return o(630)}])}},e=>{var r=r=>e(e.s=r);e.O(0,[374,636,593,792],()=>r(5794)),_N_E=e.O()}]);