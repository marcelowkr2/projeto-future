(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[665],{3242:(e,a,t)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/assessments",function(){return t(9268)}])},9268:(e,a,t)=>{"use strict";t.r(a),t.d(a,{default:()=>n});var o=t(7876),s=t(4232),i=t(9099),r=t(4559);let n=()=>{let[e,a]=(0,s.useState)({}),[t,n]=(0,s.useState)(!1),[d,l]=(0,s.useState)(""),[c,m]=(0,s.useState)(!1),[u,p]=(0,s.useState)(null),v=(0,i.useRouter)(),h=(0,s.useCallback)((e,t)=>{a(a=>({...a,[e]:t}))},[]),g=async()=>{if(y.filter(a=>!e[a.id]).length>0){alert("Por favor, responda todas as quest\xf5es.");return}n(!0),l(""),m(!1),p(null);try{let a=_(e,y),t=await r.A.post("/assessments/api/save-assessments/",{responses:e,maturityResults:a});console.log("Resposta do backend:",t.data);let o=x(a);p(o),await r.A.post("/assessments/api/save-assessments/",o),m(!0),alert("Avalia\xe7\xe3o enviada e salva com sucesso!"),setTimeout(()=>{v.push("/dashboard")},2e3)}catch(e){console.error("Erro ao enviar avalia\xe7\xe3o:",e),l("Erro ao enviar avalia\xe7\xe3o. Tente novamente.")}finally{n(!1)}},_=(e,a)=>{let t={};return a.forEach(a=>{t[a.control_id]||(t[a.control_id]={total:0,count:0}),e[a.id]&&(t[a.control_id].total+=e[a.id],t[a.control_id].count+=1)}),Object.keys(t).map(e=>({control_id:e,average_maturity:0===t[e].count?0:t[e].total/t[e].count}))},x=e=>{let a=e.reduce((e,a)=>e+a.average_maturity,0)/e.length,t=e.filter(e=>e.average_maturity<3);return{averageMaturity:a.toFixed(2),lowMaturityControls:t,recommendations:["Implementar automa\xe7\xe3o para invent\xe1rio de ativos.","Melhorar o controle de acesso f\xedsico e l\xf3gico.","Integrar intelig\xeancia artificial para detec\xe7\xe3o de anomalias.","Revisar pol\xedticas de seguran\xe7a periodicamente."]}},y=[{id:1,control_id:1,category:"Governan\xe7a",question_text:"A empresa mant\xe9m um invent\xe1rio atualizado de todos os ativos de hardware?",maturity_levels:{1:"N\xe3o h\xe1 invent\xe1rio.",2:"Invent\xe1rio parcialmente atualizado.",3:"Invent\xe1rio atualizado, mas sem automa\xe7\xe3o.",4:"Invent\xe1rio atualizado e automatizado.",5:"Invent\xe1rio atualizado, automatizado e integrado a ferramentas de seguran\xe7a."}},{id:2,control_id:2,category:"Seguran\xe7a de Acesso",question_text:"A empresa adota autentica\xe7\xe3o multifator para acessos sens\xedveis?",maturity_levels:{1:"N\xe3o h\xe1 autentica\xe7\xe3o multifator.",2:"Autentica\xe7\xe3o multifator implementada em poucos sistemas.",3:"Autentica\xe7\xe3o multifator implementada na maioria dos sistemas.",4:"Autentica\xe7\xe3o multifator obrigat\xf3ria para todos os acessos sens\xedveis.",5:"Autentica\xe7\xe3o multifator integrada com mecanismos de intelig\xeancia artificial para detec\xe7\xe3o de anomalias."}},{id:3,control_id:3,category:"Prote\xe7\xe3o",question_text:"A empresa realiza criptografia de dados sens\xedveis em repouso e em tr\xe2nsito?",maturity_levels:{1:"N\xe3o h\xe1 criptografia.",2:"Criptografia parcial implementada em alguns dados.",3:"Criptografia de dados em repouso implementada.",4:"Criptografia de dados em repouso e em tr\xe2nsito implementada.",5:"Criptografia automatizada e monitorada para todos os dados sens\xedveis."}},{id:4,control_id:4,category:"Detec\xe7\xe3o",question_text:"A empresa possui um sistema de monitoramento cont\xednuo para detectar intrus\xf5es?",maturity_levels:{1:"N\xe3o h\xe1 sistema de monitoramento.",2:"Monitoramento implementado, mas n\xe3o cont\xednuo.",3:"Monitoramento cont\xednuo com ferramentas b\xe1sicas.",4:"Monitoramento cont\xednuo com ferramentas avan\xe7adas de detec\xe7\xe3o.",5:"Monitoramento cont\xednuo com IA para detec\xe7\xe3o preditiva e automatizada de intrus\xf5es."}},{id:5,control_id:5,category:"Resposta",question_text:"A empresa possui um plano de resposta a incidentes documentado e testado?",maturity_levels:{1:"N\xe3o h\xe1 plano de resposta.",2:"Plano de resposta implementado, mas n\xe3o testado.",3:"Plano de resposta testado e documentado.",4:"Plano de resposta testado regularmente com simula\xe7\xf5es.",5:"Plano de resposta com melhorias cont\xednuas baseado em simula\xe7\xf5es realistas."}},{id:6,control_id:6,category:"Recupera\xe7\xe3o",question_text:"A empresa possui um plano de recupera\xe7\xe3o de desastres testado e documentado?",maturity_levels:{1:"N\xe3o h\xe1 plano de recupera\xe7\xe3o.",2:"Plano de recupera\xe7\xe3o implementado, mas n\xe3o testado.",3:"Plano de recupera\xe7\xe3o testado e documentado.",4:"Plano de recupera\xe7\xe3o testado regularmente com melhorias cont\xednuas.",5:"Plano de recupera\xe7\xe3o com melhorias baseadas em an\xe1lise p\xf3s-incidente."}}],f=Object.entries(y.reduce((e,a)=>(e[a.category]||(e[a.category]=[]),e[a.category].push(a),e),{}));return(0,o.jsxs)("div",{children:[(0,o.jsx)("h1",{children:"Avalia\xe7\xe3o de Maturidade de Ciberseguran\xe7a"}),d&&(0,o.jsx)("p",{style:{color:"red"},children:d}),c&&(0,o.jsx)("p",{style:{color:"green"},children:"Avalia\xe7\xe3o enviada com sucesso!"}),u&&(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{children:"Relat\xf3rio Executivo"}),(0,o.jsxs)("p",{children:[(0,o.jsx)("strong",{children:"M\xe9dia de Maturidade:"})," ",u.averageMaturity]}),(0,o.jsx)("p",{children:(0,o.jsx)("strong",{children:"\xc1reas de Baixo Desempenho:"})}),(0,o.jsx)("ul",{children:u.lowMaturityControls.map((e,a)=>(0,o.jsxs)("li",{children:["Controle ",e.control_id," - Maturidade: ",e.average_maturity]},a))}),(0,o.jsx)("p",{children:(0,o.jsx)("strong",{children:"A\xe7\xf5es Recomendadas:"})}),(0,o.jsx)("ul",{children:u.recommendations.map((e,a)=>(0,o.jsx)("li",{children:e},a))})]}),f.map(a=>{let[t,s]=a;return(0,o.jsxs)("div",{children:[(0,o.jsx)("h2",{children:t}),s.map(a=>(0,o.jsxs)("div",{children:[(0,o.jsx)("h3",{children:a.question_text}),[1,2,3,4,5].map(t=>(0,o.jsx)("div",{children:(0,o.jsxs)("label",{children:[(0,o.jsx)("input",{type:"radio",name:"question-".concat(a.id),value:t,onChange:()=>h(a.id,t),checked:e[a.id]===t}),a.maturity_levels[t]]})},t))]},a.id))]},t)}),(0,o.jsx)("button",{onClick:g,disabled:t,children:t?"Enviando...":"Enviar Avalia\xe7\xe3o"})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[636,593,792],()=>a(3242)),_N_E=e.O()}]);